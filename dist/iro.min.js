/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */
((t,n)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).iro=n()})(this,function(){var A,_,O,s,I,S,L,E={},C=[],P=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,R=Array.isArray;function N(t,n){for(var i in n)t[i]=n[i];return t}function T(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function f(t,n,i){var r,e,o,u={};for(o in n)"key"==o?r=n[o]:"ref"==o?e=n[o]:u[o]=n[o];if(2<arguments.length&&(u.children=3<arguments.length?A.call(arguments,2):i),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===u[o]&&(u[o]=t.defaultProps[o]);return m(t,u,r,e,null)}function m(t,n,i,r,e){t={type:t,props:n,key:i,ref:r,i:null,o:null,p:0,m:null,k:null,constructor:void 0,M:null==e?++O:e,j:-1,O:0};return null==e&&null!=_.vnode&&_.vnode(t),t}function $(t){return t.children}function z(t,n){this.props=t,this.context=n}function H(t,n){if(null==n)return t.o?H(t.o,t.j+1):null;for(var i;n<t.i.length;n++)if(null!=(i=t.i[n])&&null!=i.m)return i.m;return"function"==typeof t.type?H(t):null}function B(t){(t.I||(t.I=!0,!s.push(t))||l.S++)&&I==_.debounceRendering||((I=_.debounceRendering)||S)(l)}function l(){for(var t,n,i,r,e,o,u=1;s.length;)s.length>u&&s.sort(L),t=s.shift(),u=s.length,t.I&&(i=n=void 0,r=(i=(t=t).M).m,e=[],o=[],t._)&&((n=N({},i)).M=i.M+1,_.vnode&&_.vnode(n),x(t._,n,i,t.R,t._.namespaceURI,32&i.O?[r]:null,e,null==r?H(i):r,!!(32&i.O),o),n.M=i.M,U(e,n.o.i[n.j]=n,o),i.m=i.o=null,n.m!=r)&&function t(n){var i,r;if(null!=(n=n.o)&&null!=n.k){for(n.m=n.k.base=null,i=0;i<n.i.length;i++)if(null!=(r=n.i[i])&&null!=r.m){n.m=n.k.base=r.m;break}return t(n)}}(n);l.S=0}function q(t,n,i,r,e,o,u,s,l,a,c){var h,f,v,d,g,y,p,b=r&&r.i||C,w=n.length;for(l=((t,n,i,r,e)=>{var o,u,s,l,a,c=i.length,h=c,f=0;for(t.i=new Array(e),o=0;o<e;o++)null!=(u=n[o])&&"boolean"!=typeof u&&"function"!=typeof u?(l=o+f,(u=t.i[o]="string"==typeof u||"number"==typeof u||"bigint"==typeof u||u.constructor==String?m(null,u,null,null,null):R(u)?m($,{children:u},null,null,null):null==u.constructor&&0<u.p?m(u.type,u.props,u.key,u.ref||null,u.M):u).o=t,u.p=t.p+1,s=null,-1!=(a=u.j=((t,n,i,r)=>{var e,o,u,s=t.key,l=t.type,a=n[i],c=null!=a&&0==(2&a.O);if(null===a&&null==t.key||c&&s==a.key&&l==a.type)return i;if((c?1:0)<r)for(e=i-1,o=i+1;0<=e||o<n.length;)if(null!=(a=n[u=0<=e?e--:o++])&&0==(2&a.O)&&s==a.key&&l==a.type)return u;return-1})(u,i,l,h))&&(h--,s=i[a])&&(s.O|=2),null==s||null==s.M?(-1==a&&(c<e?f--:e<c&&f++),"function"!=typeof u.type&&(u.O|=4)):a!=l&&(a==l-1?f--:a==l+1?f++:(l<a?f--:f++,u.O|=4))):t.i[o]=null;if(h)for(o=0;o<c;o++)null!=(s=i[o])&&0==(2&s.O)&&(s.m==r&&(r=H(s)),function t(n,i,r){var e,o;if(_.unmount&&_.unmount(n),!(e=n.ref)||e.current&&e.current!=n.m||Z(e,null,i),null!=(e=n.k)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(t){_.m(t,i)}e.base=e._=null}if(e=n.i)for(o=0;o<e.length;o++)e[o]&&t(e[o],i,r||"function"!=typeof n.type);r||T(n.m),n.k=n.o=n.m=void 0}(s,s));return r})(i,n,b,l,w),h=0;h<w;h++)null!=(v=i.i[h])&&(f=-1!=v.j&&b[v.j]||E,v.j=h,y=x(t,v,f,e,o,u,s,l,a,c),d=v.m,v.ref&&f.ref!=v.ref&&(f.ref&&Z(f.ref,null,v),c.push(v.ref,v.k||d,v)),null==g&&null!=d&&(g=d),(p=!!(4&v.O))||f.i===v.i?l=function t(n,i,r,e){var o,u;if("function"==typeof n.type){for(o=n.i,u=0;o&&u<o.length;u++)o[u]&&(o[u].o=n,i=t(o[u],i,r,e));return i}n.m!=i&&(e&&(i&&n.type&&!i.parentNode&&(i=H(n)),r.insertBefore(n.m,i||null)),i=n.m);for(;i=i&&i.nextSibling,null!=i&&8==i.nodeType;);return i}(v,l,t,p):"function"==typeof v.type&&void 0!==y?l=y:d&&(l=d.nextSibling),v.O&=-7);return i.m=g,l}function D(t,n,i){"-"==n[0]?t.setProperty(n,null==i?"":i):t[n]=null==i?"":"number"!=typeof i||P.test(n)?i:i+"px"}function W(t,n,i,r,e){var o,u;t:if("style"==n)if("string"==typeof i)t.style.cssText=i;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(n in r)i&&n in i||D(t.style,n,"");if(i)for(n in i)r&&i[n]==r[n]||D(t.style,n,i[n])}else if("o"==n[0]&&"n"==n[1])o=n!=(n=n.replace(Q,"$1")),n=((u=n.toLowerCase())in t||"onFocusOut"==n||"onFocusIn"==n?u:n).slice(2),t.l||(t.l={}),(t.l[n+o]=i)?r?i.u=r.u:(i.u=X,t.addEventListener(n,o?tt:Y,o)):t.removeEventListener(n,o?tt:Y,o);else{if("http://www.w3.org/2000/svg"==e)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=n&&"height"!=n&&"href"!=n&&"list"!=n&&"form"!=n&&"tabIndex"!=n&&"download"!=n&&"rowSpan"!=n&&"colSpan"!=n&&"role"!=n&&"popover"!=n&&n in t)try{t[n]=null==i?"":i;break t}catch(t){}"function"!=typeof i&&(null==i||!1===i&&"-"!=n[4]?t.removeAttribute(n):t.setAttribute(n,"popover"==n&&1==i?"":i))}}function G(i){return function(t){if(this.l){var n=this.l[t.type+i];if(null==t.t)t.t=X++;else if(t.t<n.u)return;return n(_.event?_.event(t):t)}}}function x(t,n,i,r,e,o,u,s,l,a){var c,h,f,v,d,g,y,p,b,w,m,x,k,M,j,O,I,S=n.type;if(null!=n.constructor)return null;128&i.O&&(l=!!(32&i.O),o=[s=n.m=i.m]),(c=_.p)&&c(n);t:if("function"==typeof S)try{if(p=n.props,b="prototype"in S&&S.prototype.render,w=(c=S.contextType)&&r[c.k],m=c?w?w.props.value:c.o:r,i.k?y=(h=n.k=i.k).o=h.N:(b?n.k=h=new S(p,m):(n.k=h=new z(p,m),h.constructor=S,h.render=J),w&&w.sub(h),h.props=p,h.state||(h.state={}),h.context=m,h.R=r,f=h.I=!0,h.T=[],h.H=[]),b&&null==h.W&&(h.W=h.state),b&&null!=S.getDerivedStateFromProps&&(h.W==h.state&&(h.W=N({},h.W)),N(h.W,S.getDerivedStateFromProps(p,h.W))),v=h.props,d=h.state,h.M=n,f)b&&null==S.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),b&&null!=h.componentDidMount&&h.T.push(h.componentDidMount);else{if(b&&null==S.getDerivedStateFromProps&&p!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(p,m),!h.m&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(p,h.W,m)||n.M==i.M){for(n.M!=i.M&&(h.props=p,h.state=h.W,h.I=!1),n.m=i.m,n.i=i.i,n.i.some(function(t){t&&(t.o=n)}),x=0;x<h.H.length;x++)h.T.push(h.H[x]);h.H=[],h.T.length&&u.push(h);break t}null!=h.componentWillUpdate&&h.componentWillUpdate(p,h.W,m),b&&null!=h.componentDidUpdate&&h.T.push(function(){h.componentDidUpdate(v,d,g)})}if(h.context=m,h.props=p,h._=t,h.m=!1,k=_.S,M=0,b){for(h.state=h.W,h.I=!1,k&&k(n),c=h.render(h.props,h.state,h.context),j=0;j<h.H.length;j++)h.T.push(h.H[j]);h.H=[]}else for(;h.I=!1,k&&k(n),c=h.render(h.props,h.state,h.context),h.state=h.W,h.I&&++M<25;);h.state=h.W,null!=h.getChildContext&&(r=N(N({},r),h.getChildContext())),b&&!f&&null!=h.getSnapshotBeforeUpdate&&(g=h.getSnapshotBeforeUpdate(v,d)),null!=(O=c)&&c.type===$&&null==c.key&&(O=V(c.props.children)),s=q(t,R(O)?O:[O],n,i,r,e,o,u,s,l,a),h.base=n.m,n.O&=-161,h.T.length&&u.push(h),y&&(h.N=h.o=null)}catch(t){if(n.M=null,l||null!=o)if(t.then){for(n.O|=l?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,n.m=s}else{for(I=o.length;I--;)T(o[I]);F(n)}else n.m=i.m,n.i=i.i,t.then||F(n);_.m(t,n,i)}else null==o&&n.M==i.M?(n.i=i.i,n.m=i.m):s=n.m=((t,n,i,r,e,o,u,s,l)=>{var a,c,h,f,v,d,g,y=i.props,p=n.props,b=n.type;if(e="svg"==b?"http://www.w3.org/2000/svg":"math"==b?"http://www.w3.org/1998/Math/MathML":e||"http://www.w3.org/1999/xhtml",null!=o)for(a=0;a<o.length;a++)if((v=o[a])&&"setAttribute"in v==!!b&&(b?v.localName==b:3==v.nodeType)){t=v,o[a]=null;break}if(null==t){if(null==b)return document.createTextNode(p);t=document.createElementNS(e,b,p.is&&p),s&&(_.__m&&_.__m(n,o),s=!1),o=null}if(null==b)y===p||s&&t.data==p||(t.data=p);else{if(o=o&&A.call(t.childNodes),y=i.props||E,!s&&null!=o)for(y={},a=0;a<t.attributes.length;a++)y[(v=t.attributes[a]).name]=v.value;for(a in y)v=y[a],"children"!=a&&("dangerouslySetInnerHTML"==a?h=v:a in p||"value"==a&&"defaultValue"in p||"checked"==a&&"defaultChecked"in p||W(t,a,null,v,e));for(a in p)v=p[a],"children"==a?f=v:"dangerouslySetInnerHTML"==a?c=v:"value"==a?d=v:"checked"==a?g=v:s&&"function"!=typeof v||y[a]===v||W(t,a,v,y[a],e);if(c)s||h&&(c.__html==h.__html||c.__html==t.innerHTML)||(t.innerHTML=c.__html),n.i=[];else if(h&&(t.innerHTML=""),q("template"==n.type?t.content:t,R(f)?f:[f],n,i,r,"foreignObject"==b?"http://www.w3.org/1999/xhtml":e,o,u,o?o[0]:i.i&&H(i,0),s,l),null!=o)for(a=o.length;a--;)T(o[a]);s||(a="value","progress"==b&&null==d?t.removeAttribute("value"):null!=d&&(d!==t[a]||"progress"==b&&!d||"option"==b&&d!=y[a])&&W(t,a,d,y[a],e),a="checked",null!=g&&g!=t[a]&&W(t,a,g,y[a],e))}return t})(i.m,n,i,r,e,o,u,l,a);return(c=_.diffed)&&c(n),128&n.O?void 0:s}function F(t){t&&t.k&&(t.k.m=!0),t&&t.i&&t.i.forEach(F)}function U(t,n,i){for(var r=0;r<i.length;r++)Z(i[r],i[++r],i[++r]);_.k&&_.k(n,t),t.some(function(n){try{t=n.T,n.T=[],t.some(function(t){t.call(n)})}catch(t){_.m(t,n.M)}})}function V(t){return"object"!=typeof t||null==t||t.p&&0<t.p?t:R(t)?t.map(V):N({},t)}function Z(t,n,i){try{var r;"function"==typeof t?((r="function"==typeof t.O)&&t.O(),r&&null==n||(t.O=t(n))):t.current=n}catch(t){_.m(t,i)}}function J(t,n,i){return this.constructor(t,i)}function K(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(t=>"symbol"==typeof(t=((t,n)=>{if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===n?String:Number)(t);if("object"==typeof(i=i.call(t,n||"default")))throw new TypeError("@@toPrimitive must return a primitive value.");return i})(t,"string"))?t:t+"")(r.key),r)}}function o(){return(o=Object.assign?Object.assign.bind():function(t){for(var n=arguments,i=1;i<arguments.length;i++){var r,e=n[i];for(r in e)!{}.hasOwnProperty.call(e,r)||(t[r]=e[r])}return t}).apply(null,arguments)}A=C.slice,_={m:function(n,t,i,r){for(var e,o,u;t=t.o;)if((e=t.k)&&!e.o)try{if((o=e.constructor)&&null!=o.getDerivedStateFromError&&(e.setState(o.getDerivedStateFromError(n)),u=e.I),null!=e.componentDidCatch&&(e.componentDidCatch(n,r||{}),u=e.I),u)return e.N=e}catch(t){n=t}throw n}},O=0,z.prototype.setState=function(t,n){var i=null!=this.W&&this.W!=this.state?this.W:this.W=N({},this.state);(t="function"==typeof t?t(N({},i),this.props):t)&&N(i,t),null!=t&&this.M&&(n&&this.H.push(n),B(this))},z.prototype.forceUpdate=function(t){this.M&&(this.m=!0,t&&this.T.push(t),B(this))},z.prototype.render=$,s=[],S="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L=function(t,n){return t.M.p-n.M.p},l.S=0;var Q=/(PointerCapture)$|Capture$/i,X=0,Y=G(!1),tt=G(!0),nt={none:null,A:[{x:.704,y:.296},{x:.2151,y:.7106},{x:.138,y:.08}],B:[{x:.675,y:.322},{x:.409,y:.518},{x:.167,y:.04}],C:[{x:.692,y:.308},{x:.17,y:.7},{x:.153,y:.048}]};function it(t){return.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92}function rt(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function et(t,n){var i,r,e,o,u,s,l,a=nt[n];return"none"===n||null===a||(n=t,r=(e=a)[0],i=e[1],o=(e=e[2]).x-r.x,e=e.y-r.y,s=i.x-r.x,i=i.y-r.y,l=n.x-r.x,n=n.y-r.y,r=o*o+e*e,u=o*s+e*i,o=o*l+e*n,e=s*s+i*i,n=(r*(s=s*l+i*n)-u*o)*(l=1/(r*e-u*u)),0<=(i=(e*o-u*s)*l)&&0<=n&&i+n<=1)?t:(r=t,o=(e=a)[0],u=e[1],e=e[2],s=ot(r,o,u),u=ot(r,u,e),e=ot(r,e,o),o=ut(r,s),l=ut(r,u),r=ut(r,e),o<=l&&o<=r?s:l<=r?u:e)}function ot(t,n,i){var r=t.x-n.x,e=i.x-n.x,i=i.y-n.y,r=(r*e+(t.y-n.y)*i)/(e*e+i*i),r=Math.max(0,Math.min(1,r));return{x:n.x+r*e,y:n.y+r*i}}function ut(t,n){var i=n.x-t.x,n=n.y-t.y;return Math.sqrt(i*i+n*n)}var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",t="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",st=new RegExp("rgb"+n),lt=new RegExp("rgba"+t),at=new RegExp("hsl"+n),ct=new RegExp("hsla"+t),n="^(?:#?|0x?)",t="([0-9a-fA-F]{1})",i="([0-9a-fA-F]{2})",ht=new RegExp(n+t+t+t+"$"),ft=new RegExp(n+t+t+t+t+"$"),vt=new RegExp(n+i+i+i+"$"),dt=new RegExp(n+i+i+i+i+"$"),c=1e-9,e=Math.log,r=Math.round,h=Math.floor;function v(t,n,i){return Math.min(Math.max(t,n),i)}function u(t,n){var i=-1<t.indexOf("%"),t=parseFloat(t);return i?n/100*t:t}function d(t){return parseInt(t,16)}function g(t){return t.toString(16).padStart(2,"0")}var y=(()=>{function a(t,n,i){void 0===i&&(i="none"),this.$={h:0,s:0,v:0,a:1},this.gamut=i,t&&this.set(t),this.onChange=n,this.initialValue=o({},this.$)}var t,n,i=a.prototype;return i.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof a?this.hsva=t.hsva:"r"in t&&"g"in t&&"b"in t?this.rgb=t:"h"in t&&"s"in t&&"v"in t?this.hsv=t:"h"in t&&"s"in t&&"l"in t?this.hsl=t:"kelvin"in t?this.kelvin=t.kelvin:"x"in t&&"y"in t&&(this.xy=t)}},i.setChannel=function(t,n,i){this[t]=o({},this[t],((t={})[n]=i,t))},i.reset=function(){this.hsva=this.initialValue},i.clone=function(){return new a(this,void 0,this.gamut)},i.unbind=function(){this.onChange=void 0},a.hsvToRgb=function(t){var n=t.h/60,i=t.s/100,t=t.v/100,r=h(n),n=n-r,e=t*(1-i),o=t*(1-n*i),n=t*(1-(1-n)*i),i=r%6,r=[n,t,t,o,e,e][i],u=[e,e,n,t,t,o][i];return{r:v(255*[t,o,e,e,n,t][i],0,255),g:v(255*r,0,255),b:v(255*u,0,255)}},a.rgbToHsv=function(t){var n=t.r/255,i=t.g/255,r=t.b/255,t=Math.max(n,i,r),e=Math.min(n,i,r),o=t-e,u=0,s=t,l=0===t?0:o/t;switch(t){case e:u=0;break;case n:u=(i-r)/o+(i<r?6:0);break;case i:u=(r-n)/o+2;break;case r:u=(n-i)/o+4}return{h:60*u%360,s:v(100*l,0,100),v:v(100*s,0,100)}},a.hsvToHsl=function(t){var n=t.s/100,i=t.v/100,r=(2-n)*i,e=r<=1?r:2-r;return{h:t.h,s:v(100*(e<c?0:n*i/e),0,100),l:v(50*r,0,100)}},a.hslToHsv=function(t){var n=2*t.l,i=t.s*(n<=100?n:200-n)/100;return{h:t.h,s:v(100*(n+i<c?0:2*i/(n+i)),0,100),v:v((n+i)/2,0,100)}},a.kelvinToRgb=function(t){var n,i,t=t/100,r=t<66?(n=255,i=-155.25485562709179-.44596950469579133*(i=t-2)+104.49216199393888*e(i),t<20?0:.8274096064007395*(r=t-10)-254.76935184120902+115.67994401066147*e(r)):(n=351.97690566805693+.114206453784165*(n=t-55)-40.25366309332127*e(n),i=325.4494125711974+.07943456536662342*(i=t-50)-28.0852963507957*e(i),255);return{r:v(h(n),0,255),g:v(h(i),0,255),b:v(h(r),0,255)}},a.rgbToKelvin=function(t){for(var n=t.r,i=t.b,n=Math.max(n,c),i=Math.max(i,c),r=2e3,e=4e4,o=2e3,u=0;.4<e-r&&u<50;){var o=.5*(e+r),s=a.kelvinToRgb(o),l=Math.max(s.r,c);s.b/l>=i/n?e=o:r=o,u++}return o},i.setGamutType=function(t,n){var i,n=(null==n?void 0:n.silent)||!1;t!==this.gamut&&(i=this.xy,this.gamut=t,t=this.onChange,n&&(this.onChange=void 0),this.xy=i,n)&&(this.onChange=t)},i=a,(t=[{key:"hsv",get:function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},set:function(t){var n=this.$;if(t=o({},n,t),this.onChange){var i,r={h:!1,v:!1,s:!1,a:!1};for(i in n){var e=Math.abs((t[i]||0)-(n[i]||0));r[i]=c<e}this.$=t,(r.h||r.s||r.v||r.a)&&this.onChange(this,r)}else this.$=t}},{key:"hsva",get:function(){return o({},this.$)},set:function(t){this.hsv=t}},{key:"hue",get:function(){return this.$.h},set:function(t){this.hsv={h:t}}},{key:"saturation",get:function(){return this.$.s},set:function(t){this.hsv={s:t}}},{key:"value",get:function(){return this.$.v},set:function(t){this.hsv={v:t}}},{key:"alpha",get:function(){return this.$.a},set:function(t){this.hsv=o({},this.hsv,{a:t})}},{key:"kelvin",get:function(){return a.rgbToKelvin(this.rgb)},set:function(t){this.rgb=a.kelvinToRgb(t)}},{key:"xy",get:function(){var t,n,i,r,e,o=this.rgb;return t=o.r,n=o.g,o=o.b,void 0===(i=this.gamut)&&(i="none"),n/=255,o/=255,0==(t=(r=.4360747*(t=it(t/255))+.3850649*(n=it(n))+.0930804*(o=it(o)))+(e=.2225045*t+.7168786*n+.0406169*o)+(.0139322*t+.0971045*n+.7141733*o))?{x:0,y:0}:(n=r/t,o=e/t,"none"!==i?et({x:n,y:o},i):{x:n,y:o})},set:function(t){var n,i,r=0===this.$.v?.01:this.$.v/100,e=(n=t.x,t=t.y,r=r,i=this.gamut,void 0===r&&(r=1),i&&"none"!==i&&(n=(i=et({x:n,y:t},i)).x,t=i.y),i=1-n-t,t<1e-7?{r:0,g:0,b:0}:(i=1.612*(n=r/t*n)+-.203*r+-.302*(t=r/t*i),e=-.509*n+1.412*r+.066*t,n=.026*n+-.072*r+.962*t,i=Math.max(0,i),e=Math.max(0,e),n=Math.max(0,n),r=rt(i),t=rt(e),i=rt(n),r=Math.round(255*r),t=Math.round(255*t),i=Math.round(255*i),{r:r=Math.max(0,Math.min(255,r)),g:t=Math.max(0,Math.min(255,t)),b:i=Math.max(0,Math.min(255,i))}));this.rgb=e}},{key:"gamutType",get:function(){return this.gamut},set:function(t){this.setGamutType(t,{silent:!1})}},{key:"red",get:function(){return this.rgb.r},set:function(t){this.rgb=o({},this.rgb,{r:t})}},{key:"green",get:function(){return this.rgb.g},set:function(t){this.rgb=o({},this.rgb,{g:t})}},{key:"blue",get:function(){return this.rgb.b},set:function(t){this.rgb=o({},this.rgb,{b:t})}},{key:"rgb",get:function(){var t=a.hsvToRgb(this.$);return{r:t.r,g:t.g,b:t.b}},set:function(t){this.hsv=o({},a.rgbToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"rgba",get:function(){return o({},this.rgb,{a:this.alpha})},set:function(t){this.rgb=t}},{key:"hsl",get:function(){var t=a.hsvToHsl(this.$);return{h:t.h,s:t.s,l:t.l}},set:function(t){this.hsv=o({},a.hslToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"hsla",get:function(){return o({},this.hsl,{a:this.alpha})},set:function(t){this.hsl=t}},{key:"rgbString",get:function(){var t=this.rgb;return"rgb("+r(t.r)+", "+r(t.g)+", "+r(t.b)+")"},set:function(t){var n,i=0,r=0,e=0,o=1;if((n=st.exec(t))?(i=u(n[1],255),r=u(n[2],255),e=u(n[3],255)):(n=lt.exec(t))&&(i=u(n[1],255),r=u(n[2],255),e=u(n[3],255),o=v(u(n[4],1),0,1)),!n)throw new Error("Invalid rgb string");this.rgb={r:i,g:r,b:e,a:o}}},{key:"rgbaString",get:function(){var t=this.rgba;return"rgba("+r(t.r)+", "+r(t.g)+", "+r(t.b)+", "+t.a+")"},set:function(t){this.rgbString=t}},{key:"hexString",get:function(){var t=this.rgb;return"#"+g(r(t.r))+g(r(t.g))+g(r(t.b))},set:function(t){var n,i=0,r=0,e=0,o=255;if((n=ht.exec(t))?(i=17*d(n[1]),r=17*d(n[2]),e=17*d(n[3])):(n=ft.exec(t))?(i=17*d(n[1]),r=17*d(n[2]),e=17*d(n[3]),o=17*d(n[4])):(n=vt.exec(t))?(i=d(n[1]),r=d(n[2]),e=d(n[3])):(n=dt.exec(t))&&(i=d(n[1]),r=d(n[2]),e=d(n[3]),o=d(n[4])),!n)throw new Error("Invalid hex string");this.rgb={r:i,g:r,b:e,a:o/255}}},{key:"hex8String",get:function(){var t=this.rgba;return"#"+g(r(t.r))+g(r(t.g))+g(r(t.b))+g(r(255*t.a))},set:function(t){this.hexString=t}},{key:"hslString",get:function(){var t=this.hsl;return"hsl("+r(t.h)+", "+r(t.s)+"%, "+r(t.l)+"%)"},set:function(t){var n,i=0,r=0,e=0,o=1;if((n=at.exec(t))?(i=u(n[1],360),r=u(n[2],100),e=u(n[3],100)):(n=ct.exec(t))&&(i=u(n[1],360),r=u(n[2],100),e=u(n[3],100),o=v(u(n[4],1),0,1)),!n)throw new Error("Invalid hsl string");this.hsl={h:i,s:r,l:e,a:o}}},{key:"hslaString",get:function(){var t=this.hsla;return"hsla("+r(t.h)+", "+r(t.s)+"%, "+r(t.l)+"%, "+t.a+")"},set:function(t){this.hslString=t}}])&&K(i.prototype,t),n&&K(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i})();function gt(t){var n=t.width,i=t.borderWidth,r=t.handleRadius,e=t.padding,o="horizontal"===t.layoutDirection,u=null!=(u=t.sliderSize)?u:2*e+2*r+2*(i||0);return"circle"===t.sliderShape?{handleStart:t.padding+t.handleRadius,handleRange:n-2*e-2*r,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-i/2}:{handleStart:u/2,handleRange:n-u,radius:u/2,x:0,y:0,width:o?u:n,height:o?n:u}}function yt(t,n){var i=gt(t),r=i.width,e=i.handleRange,o=i.handleStart,u="horizontal"===t.layoutDirection,r=u?r/2:i.height/2,i=o+((t,n)=>{var i=n.hsva,r=n.rgb;switch(t.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return 100*i.a;case"kelvin":var e=t.minTemperature,e=(n.kelvin-e)/(t.maxTemperature-e)*100;return Math.max(0,Math.min(e,100));case"hue":return i.h/3.6;case"saturation":return i.s;default:return i.v}})(t,n)/100*e;return u&&(i=-1*i+e+2*o),{x:u?r:i,y:u?i:r}}var pt,bt=2*Math.PI,wt=function(t,n){return(t%n+n)%n},mt=function(t,n){return Math.sqrt(t*t+n*n)};function xt(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function p(t){var n=t.width/2;return{width:t.width,radius:n-t.borderWidth,cx:n,cy:n}}function kt(t,n,i){var r=t.wheelAngle,t=t.wheelDirection;return i&&"clockwise"===t?n=r+n:"clockwise"===t?n=360-r+n:i&&"anticlockwise"===t?n=r+180-n:"anticlockwise"===t&&(n=r+n),wt(n,360)}function Mt(t,n,i){var r=p(t),e=r.cx,o=xt(t),e=(n=e-n,i=r.cy-i,kt(t,Math.atan2(-i,-n)*(360/bt))),r=Math.min(mt(n,i),o);return{h:Math.round(e),s:Math.round(100/o*r)}}function jt(t){var n=t.width,i=t.boxHeight;return{width:n,height:null!=i?i:n,radius:t.padding+t.handleRadius}}function Ot(t,n,i){var t=jt(t),r=t.width,e=t.radius,i=(i-e)/(t.height-2*e)*100;return{s:Math.max(0,Math.min((n-e)/(r-2*e)*100,100)),v:Math.max(0,Math.min(100-i,100))}}function It(t,n,i,r){for(var e=0;e<r.length;e++){var o=r[e].x-n,u=r[e].y-i;if(Math.sqrt(o*o+u*u)<=t.handleRadius+.5)return e}return null}function St(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}}function At(t,n,i){return t+"-gradient("+n+", "+i.map(function(t){var n=t[0];return t[1]+" "+n+"%"}).join(",")+")"}function b(t){return"string"==typeof t?t:t+"px"}var _t="none",Et=["mousemove","touchmove","mouseup","touchend"],w=(n=>{function t(t){n.call(this,t),this.isDragging=!1,this.uid=(Math.random()+1).toString(36).substring(5)}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.render=function(t){var n=this.handleEvent.bind(this),n={onMouseDown:n,ontouchstart:n},i="horizontal"===t.layoutDirection,r=null===t.margin?t.sliderMargin:t.margin,e={overflow:"visible",display:i?"inline-block":"block",touchAction:this.isDragging?"none":"auto"};return 0<t.index&&(e[i?"marginLeft":"marginTop"]=r),f($,null,t.children(this.uid,n,e))},t.prototype.handleEvent=function(t){var n=this,i=this.props.onInput,r=this.base.getBoundingClientRect(),e=t.touches?t.changedTouches[0]:t,o=e.clientX-r.left,u=e.clientY-r.top;switch(t.type){case"mousedown":case"touchstart":!1!==i(o,u,0)&&(t.preventDefault(),this.isDragging=!0,Et.forEach(function(t){document.addEventListener(t,n,{passive:!1})}));break;case"mousemove":case"touchmove":this.isDragging&&t.preventDefault(),i(o,u,1);break;case"mouseup":case"touchend":this.isDragging&&(t.preventDefault(),this.isDragging=!1),i(o,u,2),Et.forEach(function(t){document.removeEventListener(t,n,{passive:!1})})}},t})(z);function k(t){var n=t.r,i=t.url,r=n,e=n;return f("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),style:{transform:"translate("+b(t.x)+", "+b(t.y)+")",willChange:"transform",top:b(-n),left:b(-n),width:b(2*n),height:b(2*n),position:"absolute",overflow:"visible"}},i&&f("use",Object.assign({xlinkHref:(n=>{if(0<(pt=pt||document.getElementsByTagName("base")).length)try{return new URL(n,document.baseURI).toString()}catch(t){var i=window.location;return i.protocol+"//"+i.host+i.pathname+i.search+n}return n})(i)},t.props)),!i&&f("circle",{cx:r,cy:e,r:n,fill:"none",strokeWidth:2,stroke:"#000"}),!i&&f("circle",{cx:r,cy:e,r:n-2,fill:t.fill,strokeWidth:2,stroke:"#fff"}))}function a(r){var t=r.activeIndex,e=void 0!==t&&t<r.colors.length?r.colors[t]:r.color,t=gt(r),o=t.width,u=t.height,s=t.radius,l=yt(r,e),a=((t,n)=>{var i=n.hsv,r=n.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+r.g+","+r.b+")"],[100,"rgb(255,"+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+",0,"+r.b+")"],[100,"rgb("+r.r+",255,"+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+",0)"],[100,"rgb("+r.r+","+r.g+",255)"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var e=[],o=t.minTemperature,u=t.maxTemperature-o,s=0;s<=8;s++){var l=12.5*s,a=y.kelvinToRgb(o+u/8*s),c=a.r;e.push([l,"rgb("+c+","+a.g+","+a.b+")"])}return e;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var h=y.hsvToHsl({h:i.h,s:0,v:i.v}),f=y.hsvToHsl({h:i.h,s:100,v:i.v});return[[0,"hsl("+h.h+","+h.s+"%,"+h.l+"%)"],[100,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"]];default:h=y.hsvToHsl({h:i.h,s:i.s,v:100});return[[0,"#000"],[100,"hsl("+h.h+","+h.s+"%,"+h.l+"%)"]]}})(r,e);return f(w,Object.assign({},r,{onInput:function(t,n,i){t=((t,n,i)=>{var r=(e=gt(t)).handleRange,e=e.handleStart,i="horizontal"===t.layoutDirection?-1*i+r+e:n-e,o=(i=Math.max(Math.min(i,r),0),Math.round(100/r*i));switch(t.sliderType){case"kelvin":var u=t.minTemperature;return u+o/100*(t.maxTemperature-u);case"alpha":return o/100;case"hue":return 3.6*o;case"red":case"blue":case"green":return 2.55*o;default:return o}})(r,t,n),r.parent.inputActive=!0,e[r.sliderType]=t,r.onInput(i,r.id)}}),function(t,n,i){return f("div",Object.assign({},n,{className:"IroSlider",style:Object.assign({},{position:"relative",width:b(o),height:b(u),borderRadius:b(s),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},i)}),f("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:b(s),background:At("linear","horizontal"===r.layoutDirection?"to top":"to right",a)},St(r))}),f(k,{isActive:!0,index:e.index,r:r.handleRadius,url:r.handleSvg,props:r.handleProps,x:l.x,y:l.y}))})}function Rt(e){var t=jt(e),r=t.width,o=t.height,u=t.radius,s=e.colors,l=e.parent,t=e.activeIndex,a=void 0!==t&&t<e.colors.length?e.colors[t]:e.color,c=[[[0,"#fff"],[100,"hsl("+a.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]],h=s.map(function(t){return t=t,i=(n=jt(n=e)).width,r=n.radius,t=t.hsv,n=n.height-2*r,{x:r+t.s/100*(i-2*r),y:r+(n-t.v/100*n)};var n,i,r});return f(w,Object.assign({},e,{onInput:function(t,n,i){var r;0===i?null!==(r=It(e,t,n,h))?l.setActiveColor(r):(l.inputActive=!0,a.hsv=Ot(e,t,n),e.onInput(i,e.id)):1===i&&(l.inputActive=!0,a.hsv=Ot(e,t,n)),e.onInput(i,e.id)}}),function(t,n,i){return f("div",Object.assign({},n,{className:"IroBox",style:Object.assign({},{width:b(r),height:b(o),position:"relative"},i)}),f("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:b(u)},St(e),{background:At("linear","to bottom",c[1])+","+At("linear","to right",c[0])})}),s.filter(function(t){return t!==a}).map(function(t){return f(k,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:h[t.index].x,y:h[t.index].y})}),f(k,{isActive:!0,index:a.index,fill:a.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:h[a.index].x,y:h[a.index].y}))})}k.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},a.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});function Nt(u){var r=p(u).width,e=u.colors,s=u.parent,l=u.color,o=l.hsv,a=e.map(function(t){return n=u,t=(t=t).hsv,i=(r=p(n)).cx,r=r.cy,e=xt(n),o=(180+kt(n,t.h,!0))*(bt/360),t=t.s/100*e,e="clockwise"===n.wheelDirection?-1:1,{x:i+t*Math.cos(o)*e,y:r+t*Math.sin(o)*e};var n,i,r,e,o}),c={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};return f(w,Object.assign({},u,{onInput:function(t,n,i){if(0===i){if(e=p(r=u),o=e.cx,r=u.width/2,!(mt(o-t,e.cy-n)<r))return!1;o=It(u,t,n,a);null!==o?s.setActiveColor(o):(s.inputActive=!0,l.hsv=Mt(u,t,n),u.onInput(i,u.id))}else 1===i&&(s.inputActive=!0,l.hsv=Mt(u,t,n));var r,e,o;u.onInput(i,u.id)}}),function(t,n,i){return f("div",Object.assign({},n,{className:"IroWheel",style:Object.assign({},{width:b(r),height:b(r),position:"relative"},i)}),f("div",{className:"IroWheelHue",style:Object.assign({},c,{transform:"rotateZ("+(u.wheelAngle+90)+"deg)",background:"clockwise"===u.wheelDirection?"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)":"conic-gradient(red, magenta, blue, aqua, lime, yellow, red)"})}),f("div",{className:"IroWheelSaturation",style:Object.assign({},c,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),u.wheelLightness&&f("div",{className:"IroWheelLightness",style:Object.assign({},c,{background:"#000",opacity:1-o.v/100})}),f("div",{className:"IroWheelBorder",style:Object.assign({},c,St(u))}),e.filter(function(t){return t!==l}).map(function(t){return f(k,{isActive:!1,index:t.index,fill:t.hslString,r:u.handleRadius,url:u.handleSvg,props:u.handleProps,x:a[t.index].x,y:a[t.index].y})}),f(k,{isActive:!0,index:l.index,fill:l.hslString,r:u.activeHandleRadius||u.handleRadius,url:u.handleSvg,props:u.handleProps,x:a[l.index].x,y:a[l.index].y}))})}function Tt(t,n){var i,r={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&-1===n.indexOf(i)&&(r[i]=t[i]);return r}var M,$t,t=(i=>{function t(t){var n=this;i.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id||"",(t.colors&&0<t.colors.length?t.colors:[t.color||"#fff"]).forEach(function(t){return n.addColor(t)}),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout||"default"})}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.getCurrentGamut=function(){return this.state&&void 0!==this.state.gamut?this.state.gamut:void 0!==this.props.gamut?this.props.gamut:_t},t.prototype.addColor=function(t,n){void 0===n&&(n=this.colors.length);var i=this.getCurrentGamut(),t=new y(t,this.onColorChange.bind(this),i);this.colors.splice(n,0,t),this.colors.forEach(function(t,n){return t.index=n}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",t)},t.prototype.removeColor=function(t){var n=this.colors[t],i=n===this.color;this.colors.splice(t,1),n.unbind(),this.colors.forEach(function(t,n){return t.index=n}),this.state&&this.setState({colors:this.colors}),i&&0<this.colors.length&&this.setActiveColor(Math.min(t,this.colors.length-1)),this.emit("color:remove",n)},t.prototype.setActiveColor=function(t){this.color=this.colors[t],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},t.prototype.setColors=function(t,n){var i=this;void 0===n&&(n=0),this.colors.forEach(function(t){return t.unbind()}),this.colors=[],t.forEach(function(t){return i.addColor(t)}),this.setActiveColor(n),this.emit("color:setAll",this.colors)},t.prototype.on=function(t,n){var i=this,r=this.events;(Array.isArray(t)?t:[t]).forEach(function(t){(r[t]||(r[t]=[])).push(n),i.deferredEvents[t]&&(i.deferredEvents[t].forEach(function(t){n.apply(null,t)}),i.deferredEvents[t]=[])})},t.prototype.off=function(t,n){var i=this;(Array.isArray(t)?t:[t]).forEach(function(t){t=i.events[t];t&&t.splice(t.indexOf(n),1)})},t.prototype.emit=function(t){for(var n=this,i=[],r=arguments.length-1;0<r--;)i[r]=arguments[r+1];var e=this.activeEvents;!!e.hasOwnProperty(t)&&e[t]||(e[t]=!0,(this.events[t]||[]).forEach(function(t){return t.apply(n,i)}),e[t]=!1)},t.prototype.deferredEmit=function(t){for(var n=[],i=arguments.length-1;0<i--;)n[i]=arguments[i+1];var r=this.deferredEvents;this.emit.apply(this,[t].concat(n)),(r[t]||(r[t]=[])).push(n)},t.prototype.setOptions=function(t){t.color;var t=Tt(t,["color","colors"]),n=void 0!==t.gamut&&t.gamut!==this.getCurrentGamut(),i=t.gamut,t=Tt(t,["gamut"]);void 0!==i&&!n&&0===Object.keys(t).length||(n?this.setGamut(i,t):this.setState(t))},t.prototype.resize=function(t){this.setOptions({width:t})},t.prototype.reset=function(){this.colors.forEach(function(t){return t.reset()}),this.setState({colors:this.colors})},t.prototype.setGamut=function(n,t){this.colors.forEach(function(t){t.setGamutType(n,{silent:!0})}),this.setState(Object.assign({},{gamut:n,colors:this.colors},t)),this.emit("gamut:change",n)},t.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},t.prototype.onColorChange=function(t,n){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,n)),this.emit("color:change",t,n)},t.prototype.emitInputEvent=function(t,n){0===t?this.emit("input:start",this.color,n):1===t?this.emit("input:move",this.color,n):2===t&&this.emit("input:end",this.color,n)},t.prototype.render=function(t,n){var i=this,r=n||this.state,n=r.layout;return Array.isArray(n)||(n=[{component:Nt},{component:a}],r.transparency&&n.push({component:a,options:{sliderType:"alpha"}})),f("div",{class:"iro__colorPicker",id:r.id,style:{display:r.display}},n.map(function(t,n){return f(t.component,Object.assign({},r,t.options,{ref:void 0,onInput:i.emitInputEvent.bind(i),parent:i,index:n}))}))},t})(z),n=(t.defaultProps={colors:[],display:"block",id:void 0,layout:"default",margin:0},M=t,j.prototype=M.prototype,Object.assign(j,M),j.F=M,j);function j(n,t){void 0===t&&(t={});var i,r,e,o,u,s=null,l=document.createElement("div");function a(){var t=n instanceof Element?n:document.querySelector(n);t?s.base?(t.appendChild(s.base),t instanceof HTMLElement&&s.onMount(t)):(console.warn("[iro.js] Widget base element not ready, retrying..."),requestAnimationFrame(a)):"string"==typeof n&&console.warn('[iro.js] Selector "'+n+'" not found in document')}return t=f(M,Object.assign({},{ref:function(t){return s=t}},t||{})),(l=l)==document&&(l=document.documentElement),_.o&&_.o(t,l),e=(r="function"==typeof i)?null:i&&i.i||l.i,o=[],u=[],x(l,t=(!r&&i||l).i=f($,null,[t]),e||E,E,l.namespaceURI,!r&&i?[i]:!e&&l.firstChild?A.call(l.childNodes):null,o,!r&&i?i:e?e.m:l.firstChild,r,u),U(o,t,u),n instanceof Element||"loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a,{once:!0}),s}return(i=$t=$t||{}).version="5.5.2",i.Color=y,i.ColorPicker=n,(i=i.ui||(i.ui={})).h=f,i.ComponentBase=w,i.Handle=k,i.Slider=a,i.Wheel=Nt,i.Box=Rt,$t});
